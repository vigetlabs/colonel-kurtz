{"version":3,"sources":["colonel-kurtz.js","webpack/bootstrap c1781b21fc9c3529fca6","./src/index.js","external \"react\"","./src/actions/blocks.js","./~/microcosm/dist/Microcosm.js","./src/components/ui/button.jsx","./src/utils/findBy.js","./src/components/block.jsx","./src/components/block_menu.jsx","./src/models/block.js","./src/utils/insertAt.js","./~/classnames/index.js","./lib/migrate/forward.js","./lib/migrate/index.js","./lib/migrate/isNewer.js","./lib/migrate/migrations/2.0.0.js","./src/colonel.js","./src/components/App.jsx","./src/components/blockTypes/section.jsx","./src/components/editor_block.jsx","./src/components/section.jsx","./src/components/toolbar.jsx","./src/components/toolbarHandle.jsx","./src/components/toolbarItem.jsx","./src/manifest.js","./src/plugins/bootstrap.js","./src/plugins/render.js","./src/stores/block_store.js","./src/stores/block_type_store.js","./src/stores/system_store.js","./src/utils/addBlockType.js","./src/utils/blocksToJson.js","./src/utils/childrenOf.js","./src/utils/jsonToBlocks.js","./src/utils/shift.js","./src/utils/uid.js","./assets/icons/menu.svg","./~/react-ink/dist/ink.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","Colonel","require","tag","append","type","parent","create","position","destroy","update","content","shift","delta","t","n","e","r","i","Error","framesToPop","validate","arguments","Object","keys","reduce","assign","length","prototype","hasOwnProperty","o","TypeError","u","s","a","f","l","h","d","v","g","this","_state","_stores","_plugins","push","commit","deserialize","pull","Array","apply","concat","emit","prepare","send","bind","toString","dispatch","addPlugin","addStore","serialize","toJSON","toObject","start","getInitialState","forEach","slice","register","isArray","Symbol","iterator","next","done","value","from","ignore","filter","listen","Promise","then","_objectWithoutProperties","target","indexOf","React","Ink","Button","createClass","displayName","getDefaultProps","className","hide","tagName","render","_props","props","children","attrs","createElement","key","items","val","param","undefined","matches","Actions","Toolbar","classNames","propTypes","app","PropTypes","object","isRequired","block","blockType","getClassName","_ref","Component","component","ref","onChange","_onChange","Btn","Downstream","mixins","blockTypes","array","open","componentWillReceiveProps","setState","getToggle","onClick","_onToggle","getButton","_this","label","onAdd","_onAdd","forceOpen","state","allowed","col-menu-open","role","map","_createClass","defineProperties","prop","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","uid","Block","params","valueOf","inRange","min","max","Math","list","item","corrected","head","tail","arg","classes","substr","isNewer","version","migrations","operations","migration","console","log","data","up","forward","system","semverify","string","base","split","num","parseInt","major","minor","patch","neo","old","blocks","down","memo","record","_get","get","property","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_inherits","subClass","superClass","constructor","enumerable","__proto__","BlockTypes","Blocks","Microcosm","System","bootstrap","ColonelKurtz","_Microcosm","el","seed","_extends","source","Section","Upstream","getSection","parents","last","BlockMenu","findBy","EditorBlock","childrenOf","bool","getEditor","noChildren","shouldHide","_onAppend","Handle","Item","_onMoveUp","_onMoveDown","_onDestroy","menuIcon","dangerouslySetInnerHTML","__html","func","safe","private","migrate","App","_defineProperty","defineProperty","insertAt","_ref2","_ref2$position","node","addBlockType","manifest","config","options","blocksToJson","root","jsonify","jsonToBlocks","index","without","uidCounter","PI","shouldComponentUpdate","background","duration","number","opacity","radius","recenter","store","tick","touchEvents","onTouchStart","_onPress","onTouchEnd","_onRelease","onTouchCancel","onTouchLeave","onMouseDown","onMouseUp","onMouseLeave","ctx","color","density","height","width","save","scale","clearRect","fillStyle","globalAlpha","getTotalOpacity","fillRect","each","makeBlot","restore","x","y","getBlotOpacity","beginPath","getBlotShiftX","getBlotShiftY","arc","getBlotScale","closePath","fill","componentWillUnmount","stop","pushBlot","getDOMNode","getBoundingClientRect","top","bottom","left","right","window","getComputedStyle","getContext","getMaxRadius","add","mouseDown","mouseUp","style","onDragOver","button","ctrlKey","clientX","clientY","changedTouches","Date","now","release","sqrt","cos","getBlotOuterOpacity","borderRadius","DocumentTouch","document","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","play","cancelAnimationFrame","requestAnimationFrame"],"mappings":"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","file":"colonel-kurtz.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\t/**\n\t * Colonel Kurts\n\t * A custom block editor\n\t */\n\n\t__webpack_require__(42);\n\n\tvar Colonel = _interopRequire(__webpack_require__(19));\n\n\tmodule.exports = Colonel;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar tag = __webpack_require__(3).tag;\n\n\tmodule.exports = tag({\n\n\t  append: function append(type, parent) {\n\t    return { type: type, parent: parent };\n\t  },\n\n\t  create: function create(type, position, parent) {\n\t    return { type: type, position: position, parent: parent };\n\t  },\n\n\t  destroy: function destroy(id) {\n\t    return id;\n\t  },\n\n\t  update: function update(id, content) {\n\t    return { id: id, content: content };\n\t  },\n\n\t  shift: function shift(id, delta) {\n\t    return { id: id, delta: delta };\n\t  }\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports=function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};return n.m=t,n.c=r,n.p=\"\",n(0)}([function(t,n,r){\"use strict\";n.__esModule=!0;var e=r(12);n.tag=e,n[\"default\"]=r(4)},function(t){\"use strict\";function n(t,n){if(!t){var r=new Error(n);throw r.framesToPop=1,r}}t.exports=n},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(1));t.exports={validate:function(t){i(\"function\"==typeof t,\"Action \"+t+\" is not callable, actions should be functions\")}}},function(t){\"use strict\";function n(t,n){var r=void 0===arguments[2]?{}:arguments[2],e=Object.keys(t);return e.reduce(function(r,e){return r[e]=n(t[e],e),r},r)}t.exports=n},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},o=function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")},u=e(r(2)),s=e(r(5)),a=e(r(6)),c=e(r(1)),f=e(r(7)),l=e(r(8)),p=e(r(9)),h=e(r(3)),d=e(r(10)),v=e(r(11)),g=function(){function t(){o(this,t),p(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){this.commit(this.deserialize(t))},t.prototype.pull=function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),i=2;r>i;i++)e[i-2]=arguments[i];var o=this._state[t];return\"function\"==typeof n?n.call.apply(n,[this,o].concat(e)):o},t.prototype.commit=function(t){this._state=t,this.emit()},t.prototype.prepare=function(t){for(var n,r=arguments.length,e=Array(r>1?r-1:0),i=1;r>i;i++)e[i-1]=arguments[i];return u.validate(t),(n=this.send).bind.apply(n,[this,t].concat(e))},t.prototype.send=function(t){var n=function(){return t.apply(this,arguments)};return n.toString=function(){return t.toString()},n}(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;n>e;e++)r[e-1]=arguments[e];return v.apply(void 0,[this,t].concat(r))}),t.prototype.dispatch=function(t,n){var r=this,e=d(this._stores,function(n){return t in n});return Object.keys(e).length>0&&!function(){var i=f(r._state),o=h(e,function(r){return r[t](i[r],n)},i);r.commit(o)}(),n},t.prototype.addPlugin=function(t,n){s.validate(t),this._plugins.push([t,n])},t.prototype.addStore=function(t){var n=i({},a,t);c(!this._stores[t],'Tried to add \"'+t+'\" but it is not unique'),this._stores[n]=n},t.prototype.serialize=function(){var t=this;return h(this._stores,function(n){return n.serialize(t.pull(n))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return h(this._stores,function(n){return n.deserialize(t[n])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return d(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._state=h(this._stores,function(t){return t.getInitialState()}),l(this._plugins,this,function(){n.forEach(function(t){return t()})})},t}();t.exports=g},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(1));t.exports={validate:function(t){i(\"register\"in t,\"Plugins must have a register method.\")}}},function(t){\"use strict\";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error(\"Stores must implement a toString() method\")}}},function(t){\"use strict\";t.exports=function(t){return Object.create(t)}},function(t){\"use strict\";function n(t,i,o){var u=e(t),s=u[0],a=u.slice(1);if(!s)return o();var c=r(s,2),f=c[0],l=c[1];f.register(i,l,function(t){if(t)throw t;n(a,i,o)})}var r=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var r,e=[],i=t[Symbol.iterator]();!(r=i.next()).done&&(e.push(r.value),!n||e.length!==n););return e}throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},e=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=n},function(t){\"use strict\";function n(){var t=void 0===arguments[0]?{}:arguments[0],n=[];return t.ignore=function(t){n=n.filter(function(n){return n!==t})},t.listen=function(t){n.push(t)},t.emit=function(){for(var t=0;t<n.length;t++)n[t].call(this)},t}t.exports=n},function(t){\"use strict\";t.exports=function(t,n){var r={};for(var e in t)n(t[e])&&(r[e]=t[e]);return r}},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(2));t.exports=function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),o=2;r>o;o++)e[o-2]=arguments[o];i.validate(n);var u=n.apply(t,e);return u instanceof Promise?u.then(function(r){return t.dispatch(n,r)}):t.dispatch(n,u)}},function(t,n,r){\"use strict\";function e(t){return\"function\"==typeof t}function i(t,n){var r=t.bind(null),e=\"_\"+n+\"_\"+s++;return r.toString=function(){return e},r}var o=function(t){return t&&t.__esModule?t[\"default\"]:t},u=o(r(3)),s=0;t.exports=function(t){return u(t,function(t,n){return e(t)?i(t,n):t})}}]);\n\t//# sourceMappingURL=Microcosm.js.map\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar Ink = _interopRequire(__webpack_require__(44));\n\n\tvar Button = React.createClass({\n\t  displayName: \"Button\",\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      className: \"col-btn\",\n\t      hide: false,\n\t      tagName: \"button\",\n\t      type: \"button\"\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var children = _props.children;\n\t    var hide = _props.hide;\n\t    var tagName = _props.tagName;\n\n\t    var attrs = _objectWithoutProperties(_props, [\"children\", \"hide\", \"tagName\"]);\n\n\t    return hide ? null : React.createElement(tagName, attrs, [React.createElement(Ink, { key: \"__ink__\" }), children]);\n\t  }\n\t});\n\n\tmodule.exports = Button;\n\n/***/ },\n/* 5 */,\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = function (items, val) {\n\t  var param = arguments[2] === undefined ? \"id\" : arguments[2];\n\n\t  var matches = items.filter(function (i) {\n\t    return i[param] == val;\n\t  });\n\n\t  if (matches.length) {\n\t    return matches[0];\n\t  }\n\n\t  throw new Error(\"Unable to find record with \" + param + \" of \" + val);\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar Toolbar = _interopRequire(__webpack_require__(24));\n\n\tvar classNames = _interopRequire(__webpack_require__(11));\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"block\",\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired,\n\t    blockType: React.PropTypes.object.isRequired },\n\n\t  getClassName: function getClassName(_ref) {\n\t    var id = _ref.id;\n\n\t    return classNames(\"col-block\", \"col-block-\" + id);\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\t    var blockType = _props.blockType;\n\t    var children = _props.children;\n\t    var id = blockType.id;\n\t    var Component = blockType.component;\n\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: this.getClassName(blockType) },\n\t      React.createElement(\n\t        Component,\n\t        { ref: \"block\", content: block.content, onChange: this._onChange },\n\t        children\n\t      ),\n\t      React.createElement(Toolbar, { app: app, block: block })\n\t    );\n\t  },\n\n\t  _onChange: function _onChange(content) {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\n\t    app.send(Actions.update, block, content);\n\t  }\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar Btn = _interopRequire(__webpack_require__(4));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar classNames = _interopRequire(__webpack_require__(11));\n\n\tvar Downstream = __webpack_require__(3).Downstream;\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"block_menu\",\n\n\t  mixins: [Downstream],\n\n\t  propTypes: {\n\t    blockTypes: React.PropTypes.array.isRequired\n\t  },\n\n\t  getInitialState: function getInitialState() {\n\t    return { open: false };\n\t  },\n\n\t  componentWillReceiveProps: function componentWillReceiveProps() {\n\t    this.setState({ open: false });\n\t  },\n\n\t  getToggle: function getToggle() {\n\t    return React.createElement(\n\t      Btn,\n\t      { ref: \"toggle\", className: \"col-menu-toggle\", onClick: this._onToggle },\n\t      \"+\"\n\t    );\n\t  },\n\n\t  getButton: function getButton(_ref) {\n\t    var _this = this;\n\n\t    var id = _ref.id;\n\t    var label = _ref.label;\n\n\t    var onAdd = function () {\n\t      return _this._onAdd(id);\n\t    };\n\t    return React.createElement(\n\t      Btn,\n\t      { key: id, className: \"col-menu-btn\", onClick: onAdd },\n\t      label\n\t    );\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var blockTypes = _props.blockTypes;\n\t    var forceOpen = _props.forceOpen;\n\n\t    var open = forceOpen || this.state.open;\n\t    var allowed = blockTypes.filter(function (i) {\n\t      return !i[\"private\"];\n\t    });\n\t    var className = classNames(\"col-menu\", { \"col-menu-open\": open });\n\n\t    return React.createElement(\n\t      \"nav\",\n\t      { className: className, role: \"navigation\" },\n\t      open ? null : this.getToggle(),\n\t      open ? allowed.map(this.getButton) : null\n\t    );\n\t  },\n\n\t  _onToggle: function _onToggle() {\n\t    this.setState({ open: true });\n\t  },\n\n\t  _onAdd: function _onAdd(id) {\n\t    var _props = this.props;\n\t    var position = _props.position;\n\t    var parent = _props.parent;\n\n\t    this.send(Actions.create, id, position, this.props.parent);\n\t  }\n\n\t});\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t/* @flow */\n\tvar uid = __webpack_require__(38);\n\n\tvar Block = (function () {\n\t  function Block(params) {\n\t    _classCallCheck(this, Block);\n\n\t    this.id = uid();\n\t    this.content = params.content;\n\t    this.parent = params.parent;\n\t    this.type = params.type;\n\t  }\n\n\t  _createClass(Block, {\n\t    valueOf: {\n\t      value: function valueOf() {\n\t        return this.id;\n\t      }\n\t    }\n\t  });\n\n\t  return Block;\n\t})();\n\n\tmodule.exports = Block;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * InsertAfter\n\t * Given a list and an item, non-destructively return a new list\n\t * including the item after a given position\n\t */\n\n\t\"use strict\";\n\n\tvar inRange = function (value, min, max) {\n\t  return Math.max(min, Math.min(max, value));\n\t};\n\n\tmodule.exports = function (list, item) {\n\t  var position = arguments[2] === undefined ? list.length : arguments[2];\n\t  return (function () {\n\t    var corrected = inRange(position, 0, list.length);\n\n\t    var head = list.slice(0, corrected);\n\t    var tail = list.slice(corrected);\n\n\t    return head.concat(item, tail);\n\t  })();\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction classNames() {\n\t\tvar classes = '';\n\t\tvar arg;\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\targ = arguments[i];\n\t\t\tif (!arg) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ('string' === typeof arg || 'number' === typeof arg) {\n\t\t\t\tclasses += ' ' + arg;\n\t\t\t} else if (Object.prototype.toString.call(arg) === '[object Array]') {\n\t\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t\t} else if ('object' === typeof arg) {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (!arg.hasOwnProperty(key) || !arg[key]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn classes.substr(1);\n\t}\n\n\t// safely export classNames in case the script is included directly on a page\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t}\n\n\n/***/ },\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Forward\n\t * Given a current state, determine and run all future migrations\n\t */\n\n\t\"use strict\";\n\n\tvar isNewer = __webpack_require__(17);\n\n\tmodule.exports = function (version, state, migrations) {\n\n\t  var operations = migrations.filter(function (migration) {\n\t    return isNewer(migration.version, version);\n\t  });\n\n\t  if (operations.length) {\n\t    console.log(\"Upgrading Colonel Kurtz from version \" + version + \" to \" + operations[operations.length - 1].version);\n\t  }\n\n\t  return operations.reduce(function (data, migration) {\n\t    var update = migration.up(data);\n\n\t    console.log(\" \" + migration.version);\n\n\t    return update;\n\t  }, state);\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Migration runner\n\t *\n\t * Important: This should be written in nodejs friendly javascript\n\t */\n\n\t\"use strict\";\n\n\tvar forward = __webpack_require__(15);\n\n\t// Since this code has to also run in the browser, we can't simply\n\t// traverse a directory of migrations. They will run in the following\n\t// order:\n\tvar migrations = [__webpack_require__(18)];\n\n\tmodule.exports = function (state) {\n\t  var version = \"0.0.0\";\n\n\t  state = state || {};\n\n\t  if (state.system) {\n\t    version = state.system.version;\n\t  }\n\n\t  return forward(version, state, migrations);\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * isNewer\n\t * a ridiculously simple semver checker\n\t */\n\n\t\"use strict\";\n\n\tvar semverify = function semverify(string) {\n\t  string = string || \"0.0.0\";\n\n\t  var base = string.split(\".\").map(function (num) {\n\t    return parseInt(num, 10);\n\t  });\n\n\t  return { major: base[0], minor: base[1], patch: base[2] };\n\t};\n\n\tmodule.exports = function (neo, old) {\n\t  neo = semverify(neo);\n\t  old = semverify(old);\n\n\t  // If the major version is greater, this is blatantly\n\t  // a new version\n\t  if (neo.major > old.major) {\n\t    return true;\n\t  }\n\n\t  // if the major version matches, but the minor version is greater,\n\t  // this is a new version\n\t  if (neo.major === old.major && neo.minor > old.minor) {\n\t    return true;\n\t  }\n\n\t  // finally, if the major and minor or equal, but the page isn't,\n\t  // this is a new version\n\t  if (neo.minor === old.minor && neo.patch > old.patch) {\n\t    return true;\n\t  }\n\n\t  return false;\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\t  version: \"2.0.0\",\n\n\t  // 2.0.0 adds a sections block type that wraps around all other\n\t  // types. It also adds a system object\n\t  up: function up(state) {\n\t    return {\n\t      system: { version: \"2.0.0\" },\n\t      blocks: Array.isArray(state) ? [{\n\t        blocks: state,\n\t        content: {},\n\t        type: \"section\"\n\t      }] : []\n\t    };\n\t  },\n\n\t  // Prior to this version, colonel kurts has no concept of sections.\n\t  // To protect data, all top level blocks are flattened to only their\n\t  // child parts.\n\t  //\n\t  // Additionally, versions of colonel prior to this version\n\t  // do not keep track of versions\n\t  down: function down(state) {\n\t    var blocks = state.blocks || [];\n\n\t    return blocks.reduce(function (memo, record) {\n\t      return memo.concat(record.blocks);\n\t    }, []);\n\t  }\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc && desc.writable) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n\t/**\n\t * Colonel Kurts\n\t * A custom block editor\n\t */\n\n\tvar BlockTypes = _interopRequire(__webpack_require__(31));\n\n\tvar Blocks = _interopRequire(__webpack_require__(30));\n\n\tvar Microcosm = _interopRequire(__webpack_require__(3));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar System = _interopRequire(__webpack_require__(32));\n\n\tvar bootstrap = _interopRequire(__webpack_require__(28));\n\n\tvar render = _interopRequire(__webpack_require__(29));\n\n\t/**\n\t * Colonel Kurtz is a layer on top of the Microcosm framework\n\t * Microcosm is a simple Flux implementation designed to solve issues\n\t * with state specifically for Colonel Kurtz\n\t *\n\t * See:\n\t * https://github.com/vigetlabs/microcosm\n\t */\n\n\tvar ColonelKurtz = (function (_Microcosm) {\n\t  function ColonelKurtz(_ref) {\n\t    var el = _ref.el;\n\t    var seed = _ref.seed;\n\t    var blockTypes = _ref.blockTypes;\n\n\t    _classCallCheck(this, ColonelKurtz);\n\n\t    _get(Object.getPrototypeOf(ColonelKurtz.prototype), \"constructor\", this).call(this);\n\n\t    /**\n\t     * The system store keeps track of information\n\t     * for the colonel kurtz instance itself\n\t     */\n\t    this.addStore(System);\n\n\t    /**\n\t     * A block is an individual chunk of content. It can have child\n\t     */\n\t    this.addStore(Blocks);\n\n\t    /**\n\t     * A block type defines the editing experience for a specific type\n\t     * content\n\t     */\n\t    this.addStore(BlockTypes);\n\n\t    /**\n\t     * The bootstrap plugin takes seed data and prepares the\n\t     * application's state beyond initializing\n\t     */\n\t    this.addPlugin(bootstrap, { seed: seed, blockTypes: blockTypes });\n\n\t    /**\n\t     * The render plugin handles updating the browser ui\n\t     */\n\t    this.addPlugin(render, { el: el });\n\t  }\n\n\t  _inherits(ColonelKurtz, _Microcosm);\n\n\t  return ColonelKurtz;\n\t})(Microcosm);\n\n\tmodule.exports = ColonelKurtz;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * This is the root component that contains sections for\n\t * toggling between viewing modes and viewing managed content\n\t */\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar Button = _interopRequire(__webpack_require__(4));\n\n\tvar Section = _interopRequire(__webpack_require__(23));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar Upstream = __webpack_require__(3).Upstream;\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"App\",\n\n\t  mixins: [Upstream],\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    blocks: React.PropTypes.array.isRequired,\n\t    blockTypes: React.PropTypes.array.isRequired\n\t  },\n\n\t  getSection: function getSection(block, i, parents) {\n\t    var last = i === parents.length - 1;\n\n\t    return React.createElement(Section, _extends({ key: block.id, block: block, last: last }, this.props));\n\t  },\n\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"colonel\" },\n\t      React.createElement(\n\t        Button,\n\t        { ref: \"append\", className: \"col-btn-fab\", onClick: this._onAdd },\n\t        \"+\"\n\t      ),\n\t      this.props.blocks.filter(function (i) {\n\t        return !i.parent;\n\t      }).map(this.getSection)\n\t    );\n\t  },\n\n\t  _onAdd: function _onAdd() {\n\t    this.props.app.send(Actions.create, \"section\", 0, null);\n\t  }\n\n\t});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar Section = React.createClass({\n\t  displayName: \"Section\",\n\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      null,\n\t      this.props.children\n\t    );\n\t  }\n\n\t});\n\n\tmodule.exports = Section;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar Block = _interopRequire(__webpack_require__(7));\n\n\tvar BlockMenu = _interopRequire(__webpack_require__(8));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar findBy = _interopRequire(__webpack_require__(6));\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"editor_block\",\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired,\n\t    blockTypes: React.PropTypes.array.isRequired\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\t    var blockTypes = _props.blockTypes;\n\n\t    return React.createElement(\n\t      \"div\",\n\t      null,\n\t      React.createElement(Block, { app: app, block: block, blockType: findBy(blockTypes, block.type) }),\n\t      React.createElement(BlockMenu, { app: app, blockTypes: blockTypes, position: block, parent: block.parent })\n\t    );\n\t  }\n\t});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar Block = _interopRequire(__webpack_require__(7));\n\n\tvar BlockMenu = _interopRequire(__webpack_require__(8));\n\n\tvar Btn = _interopRequire(__webpack_require__(4));\n\n\tvar EditorBlock = _interopRequire(__webpack_require__(22));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar childrenOf = _interopRequire(__webpack_require__(35));\n\n\tvar findBy = _interopRequire(__webpack_require__(6));\n\n\tvar Downstream = __webpack_require__(3).Downstream;\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"section\",\n\n\t  mixins: [Downstream],\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired,\n\t    blocks: React.PropTypes.array.isRequired,\n\t    blockTypes: React.PropTypes.array.isRequired,\n\t    last: React.PropTypes.bool\n\t  },\n\n\t  getEditor: function getEditor(block) {\n\t    var blockTypes = this.props.blockTypes;\n\n\t    return React.createElement(EditorBlock, { key: block.id, block: block, blockTypes: blockTypes });\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\t    var blocks = _props.blocks;\n\t    var blockTypes = _props.blockTypes;\n\t    var last = _props.last;\n\n\t    var children = childrenOf(block, blocks);\n\t    var noChildren = !children.length;\n\t    var shouldHide = last && noChildren;\n\n\t    return React.createElement(\n\t      \"div\",\n\t      null,\n\t      React.createElement(\n\t        Block,\n\t        { app: app, block: block, blockType: findBy(blockTypes, block.type) },\n\t        React.createElement(BlockMenu, { key: \"menu\", app: app, parent: block, blockTypes: blockTypes, forceOpen: noChildren }),\n\t        children.map(this.getEditor)\n\t      ),\n\t      React.createElement(\n\t        Btn,\n\t        { ref: \"append\", className: \"col-btn-fab\", hide: shouldHide, onClick: this._onAppend },\n\t        \"+\"\n\t      )\n\t    );\n\t  },\n\n\t  _onAppend: function _onAppend() {\n\t    this.props.app(Actions.append, \"section\");\n\t  }\n\n\t});\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar Handle = _interopRequire(__webpack_require__(25));\n\n\tvar Item = _interopRequire(__webpack_require__(26));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar Downstream = __webpack_require__(3).Downstream;\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"toolbar\",\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired\n\t  },\n\n\t  render: function render() {\n\t    return React.createElement(\n\t      \"div\",\n\t      { className: \"col-toolbar\" },\n\t      React.createElement(Handle, null),\n\t      React.createElement(\n\t        \"nav\",\n\t        { role: \"navigation\", className: \"col-toolbar-menu\" },\n\t        React.createElement(Item, { ref: \"moveUp\", label: \"Move Up\", onClick: this._onMoveUp }),\n\t        React.createElement(Item, { ref: \"moveDown\", label: \"Move Down\", onClick: this._onMoveDown }),\n\t        React.createElement(Item, { ref: \"destroy\", label: \"Remove\", onClick: this._onDestroy })\n\t      )\n\t    );\n\t  },\n\n\t  _onDestroy: function _onDestroy(e) {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var blocks = _props.blocks;\n\n\t    app(Actions.destroy, block.id);\n\t  },\n\n\t  _onMoveUp: function _onMoveUp(e) {\n\t    this.send(Actions.shift, this.props.block.id, -1);\n\t  },\n\n\t  _onMoveDown: function _onMoveDown(e) {\n\t    this.send(Actions.shift, this.props.block.id, 1);\n\t  }\n\t});\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tvar menuIcon = _interopRequire(__webpack_require__(43));\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"toolbarHandle\",\n\n\t  render: function render() {\n\t    return React.createElement(\"span\", { className: \"col-toolbar-handle\",\n\t      dangerouslySetInnerHTML: { __html: menuIcon } });\n\t  }\n\n\t});\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\n\tvar Button = _interopRequire(__webpack_require__(4));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tmodule.exports = React.createClass({\n\t  displayName: \"toolbarItem\",\n\n\t  propTypes: {\n\t    label: React.PropTypes.string.isRequired,\n\t    onClick: React.PropTypes.func.isRequired\n\t  },\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      className: \"col-toolbar-menu-item\",\n\t      type: \"button\"\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var label = _props.label;\n\n\t    var safe = _objectWithoutProperties(_props, [\"label\"]);\n\n\t    return React.createElement(\n\t      Button,\n\t      safe,\n\t      label\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\t  blockTypes: [{\n\t    id: \"section\",\n\t    label: \"Create a new section\",\n\t    component: __webpack_require__(21),\n\t    \"private\": true\n\t  }]\n\t};\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Bootstrap\n\t * This plugin is responsible for injecting data into the system on\n\t * start up, migrating old versions to new.\n\t */\n\n\tvar migrate = _interopRequire(__webpack_require__(16));\n\n\tmodule.exports = {\n\n\t  register: function register(app, _ref, next) {\n\t    var seed = _ref.seed;\n\t    var blockTypes = _ref.blockTypes;\n\n\t    var migration = migrate(seed);\n\n\t    app.push(_extends({}, migration, { blockTypes: blockTypes }));\n\n\t    next();\n\t  }\n\n\t};\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Render\n\t * Handles updating the browser UI\n\t */\n\n\tvar App = _interopRequire(__webpack_require__(20));\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tmodule.exports = {\n\n\t  render: function render(app, el) {\n\t    React.render(React.createElement(App, _extends({ app: app }, app.toObject())), el);\n\t  },\n\n\t  register: function register(app, _ref, next) {\n\t    var _this = this;\n\n\t    var el = _ref.el;\n\n\t    this.render(app, el);\n\n\t    app.listen(function (i) {\n\t      return _this.render(app, el);\n\t    });\n\n\t    next();\n\t  }\n\n\t};\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _defineProperty = function (obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Block Store\n\t *\n\t * The Block Store is responsible for defining how blocks are stored\n\t * within Colonel Kurtz. Whenever an action associated with block\n\t * records is pushed into the system, this module tells Colonel Kurtz\n\t * how that action manipulates block data.\n\t */\n\n\tvar Actions = _interopRequire(__webpack_require__(2));\n\n\tvar Block = _interopRequire(__webpack_require__(9));\n\n\tvar findBy = _interopRequire(__webpack_require__(6));\n\n\tvar insertAt = _interopRequire(__webpack_require__(10));\n\n\tvar shift = _interopRequire(__webpack_require__(37));\n\n\tmodule.exports = (function () {\n\t  var _ref = {\n\n\t    /**\n\t     * getInitialState\n\t     * Runs whenever the application starts. Provides the expected array\n\t     * relied upon by other operations\n\t     */\n\t    getInitialState: function getInitialState() {\n\t      return [];\n\t    },\n\n\t    /**\n\t     * toString\n\t     * Tells Colonel Kurtz that this store manages the `blocks` key. Any\n\t     * modifications related to blocks can be found there\n\t     */\n\t    toString: function toString() {\n\t      return \"blocks\";\n\t    },\n\n\t    /**\n\t     * For simplicity, blocks are stored in an array, `blocksToJson`\n\t     * takes a list of blocks and transforms them into the nested structure\n\t     * shown in the front end\n\t     */\n\t    serialize: __webpack_require__(34),\n\n\t    /**\n\t     * As mentioned previously, blocks are serialized to a nested\n\t     * structure. jsonToBlocks takes this nested structure and flattens\n\t     * into a list for this store.\n\t     */\n\t    deserialize: __webpack_require__(36) };\n\n\t  _defineProperty(_ref, Actions.append, function (state, params) {\n\t    return state.concat(new Block(params));\n\t  });\n\n\t  _defineProperty(_ref, Actions.create, function (state, _ref2) {\n\t    var type = _ref2.type;\n\t    var parent = _ref2.parent;\n\t    var _ref2$position = _ref2.position;\n\t    var position = _ref2$position === undefined ? 0 : _ref2$position;\n\n\t    var record = new Block({ parent: parent, type: type });\n\n\t    if (position instanceof Block) {\n\t      position = state.indexOf(position) + 1;\n\t    }\n\n\t    return insertAt(state, record, position);\n\t  });\n\n\t  _defineProperty(_ref, Actions.destroy, function (state, id) {\n\t    return state.filter(function (node) {\n\t      for (var n = node; n; n = n.parent) {\n\t        if (n.id == id) return false;\n\t      }\n\t      return true;\n\t    });\n\t  });\n\n\t  _defineProperty(_ref, Actions.update, function (state, params) {\n\t    var block = findBy(state, params.id);\n\n\t    block.content = _extends({}, block.content, params.content);\n\n\t    return state;\n\t  });\n\n\t  _defineProperty(_ref, Actions.shift, function (state, _ref2) {\n\t    var id = _ref2.id;\n\t    var delta = _ref2.delta;\n\n\t    return shift(state, findBy(state, id), delta);\n\t  });\n\n\t  return _ref;\n\t})();\n\n\t/**\n\t * Actions.append\n\t * Simply add a new block at the end of the list\n\t */\n\n\t/**\n\t * Actions.create\n\t * Produces a new block based upon given parameters.\n\t * If the provided position is a Block, place the new block right\n\t * after it.\n\t */\n\n\t/**\n\t * Actions.destroy\n\t * Given an id, remove that block and eliminate all other blocks\n\t * nested inside of it. This is important so removing that `section`\n\t * type blocks also eliminates children\n\t */\n\n\t/**\n\t * Actions.update\n\t * Given a parameters, find the block associated with those\n\t * parameters (by id) and update the content inside. All other\n\t * attributes will not be changed.\n\t */\n\n\t/**\n\t * Actions.shift\n\t * Adjust the position of a given block\n\t */\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\t/**\n\t * Block Type Store\n\t *\n\t * A Block Type describes the editing experience for a Block. Whenever\n\t * an action associated with block type the system, this module tells\n\t * Colonel Kurtz how that action manipulates block type data.\n\t */\n\n\tvar addBlockType = _interopRequire(__webpack_require__(33));\n\n\tvar manifest = _interopRequire(__webpack_require__(27));\n\n\tmodule.exports = {\n\n\t  /**\n\t   * getInitialState\n\t   * Block types are stored in a list, however we always want to make\n\t   * sure that list includes the block types specified in the manifest\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return manifest.blockTypes;\n\t  },\n\n\t  /**\n\t   * toString\n\t   * Tells Colonel Kurtz that block type information can be found at\n\t   * the `blockTypes` key\n\t   */\n\t  toString: function toString() {\n\t    return \"blockTypes\";\n\t  },\n\n\t  /**\n\t   * deserialize\n\t   * Any time block types are seeded into the system, always make sure\n\t   * they include the ones provided initially.\n\t   */\n\t  deserialize: function deserialize() {\n\t    var seed = arguments[0] === undefined ? [] : arguments[0];\n\n\t    return addBlockType(seed.concat(this.getInitialState()));\n\t  },\n\n\t  /**\n\t   * serialize\n\t   * Block types are never serialized, so return nothing\n\t   */\n\t  serialize: function serialize() {\n\t    return undefined;\n\t  }\n\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * System Store\n\t *\n\t * Keeps track of any information necessary for the system\n\t * to work properly. Currently, this is limited to the version of\n\t * Colonel Kurtz for the individual instance. This is helpful to\n\t * plugins, such as the data migration plugin.\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\n\t  /**\n\t   * getInitialState\n\t   * Version is defined by Webpack during the build process.\n\t   * See the plugins section of webpack.config.js for more details\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      version: (\"2.0.0\")\n\t    };\n\t  },\n\n\t  /**\n\t   * serialize\n\t   * Always serialize to the initial state, this information should\n\t   * never change at run time.\n\t   */\n\t  serialize: function serialize() {\n\t    return this.getInitialState();\n\t  },\n\n\t  /**\n\t   * toString\n\t   * Tells Colonel Kurtz that system information can be found at the\n\t   * `system` key\n\t   */\n\t  toString: function toString() {\n\t    return \"system\";\n\t  }\n\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * This utility adds a new block type to ColonelKurtz. If not given a\n\t * valid React element, it produces one using ./createBlock\n\t */\n\n\tvar React = _interopRequire(__webpack_require__(1));\n\n\tmodule.exports = function () {\n\t  var config = arguments[0] === undefined ? [] : arguments[0];\n\n\t  return config.map(function (options) {\n\t    var component = options.component;\n\n\t    if (typeof component === \"object\") {\n\t      component = React.createClass(component);\n\t    }\n\n\t    return _extends({}, options, { component: component });\n\t  });\n\t};\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = blocksToJson;\n\n\tfunction blocksToJson(items) {\n\t  // If items are null or undefined, assume an empty list\n\t  items = items || [];\n\n\t  var root = items.filter(function (i) {\n\t    return !i.parent;\n\t  });\n\n\t  var jsonify = function (block) {\n\t    var children = items.filter(function (i) {\n\t      return i.parent === block;\n\t    });\n\n\t    return {\n\t      content: block.content,\n\t      type: block.type,\n\t      blocks: children.map(jsonify)\n\t    };\n\t  };\n\n\t  return root.map(jsonify);\n\t}\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * childrenOf\n\t * Get the children of a provided block\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = childrenOf;\n\n\tfunction childrenOf(block, list) {\n\t  return list.filter(function (i) {\n\t    return i.parent === block;\n\t  });\n\t}\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\tmodule.exports = jsonToBlocks;\n\n\tvar Block = _interopRequire(__webpack_require__(9));\n\n\tfunction jsonToBlocks(blocks, parent) {\n\t  // If blocks are null or undefined, assume an empty list\n\t  blocks = blocks || [];\n\n\t  return blocks.reduce(function (memo, params) {\n\t    var block = new Block(_extends({}, params, { parent: parent }));\n\t    var children = jsonToBlocks(params.blocks, block);\n\n\t    return memo.concat(block, children);\n\t  }, []);\n\t}\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\n\t/**\n\t * Move\n\t * Given a list and an item, non-destructively return a new list\n\t * where a given item has been moved by a given delta\n\t */\n\n\tvar insertAt = _interopRequire(__webpack_require__(10));\n\n\tmodule.exports = function (list, item) {\n\t  var delta = arguments[2] === undefined ? 0 : arguments[2];\n\n\t  var index = list.indexOf(item) + delta;\n\t  var without = list.filter(function (i) {\n\t    return i !== item;\n\t  });\n\n\t  return insertAt(without, item, index);\n\t};\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* @flow */\n\n\t\"use strict\";\n\n\tvar uidCounter = 0;\n\n\tvar uid = function uid() {\n\t  return \"c\" + (uidCounter += 1);\n\t};\n\n\tmodule.exports = uid;\n\n/***/ },\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\\\"/></svg>\"\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},i=o(4),r=0,s=o(5),a=o(8),u=o(2),c=o(7),h=a.PropTypes,l=2*Math.PI,p=o(1),f=o(6),d=a.createClass({displayName:\"Ink\",shouldComponentUpdate:f,propTypes:{background:h.bool,duration:h.number,opacity:h.number,radius:h.number,recenter:h.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return i?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,o=this.state.density,n=this.state.height,i=this.state.width,r=this.state.store;t.save(),t.scale(o,o),t.clearRect(0,0,i,n),t.fillStyle=e,this.props.background&&(t.globalAlpha=r.getTotalOpacity(this.props.opacity),t.fillRect(0,0,i,n)),r.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,o=this.state.height,n=this.state.width,i=t.x,r=t.y,s=t.radius;if(e.globalAlpha=p.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(o,n);i+=p.getBlotShiftX(t,a,n),r+=p.getBlotShiftY(t,a,o)}e.arc(i,r,s*p.getBlotScale(t),0,l),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,o){var n=this,i=this.getDOMNode(),r=i.getBoundingClientRect(),a=r.top,u=r.bottom,c=r.left,h=r.right,l=window.getComputedStyle(i),f=l.color,d=this.state.ctx||i.getContext(\"2d\"),g=this.state.density||s(d),m=u-a,v=h-c,x=p.getMaxRadius(m,v,this.props.radius);this.setState({color:f,ctx:d,density:g,height:m,width:v},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:x,x:e-c,y:o-a})})},render:function(){var t=this.state.density,e=this.state.height,o=this.state.width,i=this.state.touchEvents;return a.createElement(\"canvas\",n({className:\"ink\",style:n({},u,this.props.style),height:e*t,width:o*t,onDragOver:this._onRelease},i))},_onPress:function(t){var e=t.button,o=t.ctrlKey,n=t.clientX,i=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u].clientX,h=s[u].clientY;this.pushBlot(a,c,h)}else e!==r||o||this.pushBlot(a,n,i)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=d},function(t,e,o){\"use strict\";function n(t){return h(t.duration,Date.now()-t.mouseDown)}function i(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function r(t){var e=t.duration,o=t.radius,r=.85*s(n(t),0,o,e),a=.15*s(i(t),0,o,e),h=.02*o*u(Date.now()/e);return c(0,r+a+h)}var s=o(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,h=Math.min;t.exports={getMaxRadius:function(t,e,o){return h(.5*c(t,e),o)},getBlotOpacity:function(t,e){return s(i(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return h(this.getBlotOpacity(t,e),s(n(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.x)},getBlotShiftY:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.y)},getBlotScale:function(t){return r(t)/t.radius}}},function(t){\"use strict\";t.exports={borderRadius:\"inherit\",height:\"100%\",left:0,position:\"absolute\",top:0,width:\"100%\"}},function(t){\"use strict\";t.exports=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e}},function(t){\"use strict\";var e=!1;\"undefined\"!=typeof window&&(e=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){\"use strict\";t.exports=function(t){var e=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/o}},function(t){\"use strict\";function e(t,e){for(var o in t)if(this.props[o]!==t[o])return!0;for(var n in e)if(this.state[n]!==e[n])return!0;return!1}t.exports=e},function(t,e,o){\"use strict\";var n=o(1),i=function(t){var e=t.mouseUp,o=t.duration;return!e||Date.now()-e<o};t.exports=function(t){var e=[],o=!1,r=void 0,s={each:function(t,o){for(var n=0,i=e.length;i>n;n++)t.call(o,e[n])},play:function(){o||(o=!0,s.update())},stop:function(){o=!1,cancelAnimationFrame(r)},getTotalOpacity:function(t){for(var o=0,i=0,r=e.length;r>i;i++)o+=n.getBlotOuterOpacity(e[i],t);return o},update:function(){e=e.filter(i),e.length?(r=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var o=e.length-1;o>=0;o--)if(!e[o].mouseUp)return e[o].mouseUp=t}};return s}},function(t){t.exports=__webpack_require__(1)}]);\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** colonel-kurtz.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c1781b21fc9c3529fca6\n **/","/**\n * Colonel Kurts\n * A custom block editor\n */\n\nimport 'style/colonel'\n\nimport Colonel from 'colonel'\n\nexport default Colonel\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0 1 2 3\n **/","import { tag } from 'microcosm'\n\nexport default tag({\n\n  append(type, parent) {\n    return { type, parent }\n  },\n\n  create(type, position, parent) {\n    return { type, position, parent }\n  },\n\n  destroy(id) {\n    return id\n  },\n\n  update(id, content) {\n    return { id, content }\n  },\n\n  shift(id, delta) {\n    return { id, delta }\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/blocks.js\n **/","module.exports=function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};return n.m=t,n.c=r,n.p=\"\",n(0)}([function(t,n,r){\"use strict\";n.__esModule=!0;var e=r(12);n.tag=e,n[\"default\"]=r(4)},function(t){\"use strict\";function n(t,n){if(!t){var r=new Error(n);throw r.framesToPop=1,r}}t.exports=n},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(1));t.exports={validate:function(t){i(\"function\"==typeof t,\"Action \"+t+\" is not callable, actions should be functions\")}}},function(t){\"use strict\";function n(t,n){var r=void 0===arguments[2]?{}:arguments[2],e=Object.keys(t);return e.reduce(function(r,e){return r[e]=n(t[e],e),r},r)}t.exports=n},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},o=function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")},u=e(r(2)),s=e(r(5)),a=e(r(6)),c=e(r(1)),f=e(r(7)),l=e(r(8)),p=e(r(9)),h=e(r(3)),d=e(r(10)),v=e(r(11)),g=function(){function t(){o(this,t),p(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){this.commit(this.deserialize(t))},t.prototype.pull=function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),i=2;r>i;i++)e[i-2]=arguments[i];var o=this._state[t];return\"function\"==typeof n?n.call.apply(n,[this,o].concat(e)):o},t.prototype.commit=function(t){this._state=t,this.emit()},t.prototype.prepare=function(t){for(var n,r=arguments.length,e=Array(r>1?r-1:0),i=1;r>i;i++)e[i-1]=arguments[i];return u.validate(t),(n=this.send).bind.apply(n,[this,t].concat(e))},t.prototype.send=function(t){var n=function(){return t.apply(this,arguments)};return n.toString=function(){return t.toString()},n}(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;n>e;e++)r[e-1]=arguments[e];return v.apply(void 0,[this,t].concat(r))}),t.prototype.dispatch=function(t,n){var r=this,e=d(this._stores,function(n){return t in n});return Object.keys(e).length>0&&!function(){var i=f(r._state),o=h(e,function(r){return r[t](i[r],n)},i);r.commit(o)}(),n},t.prototype.addPlugin=function(t,n){s.validate(t),this._plugins.push([t,n])},t.prototype.addStore=function(t){var n=i({},a,t);c(!this._stores[t],'Tried to add \"'+t+'\" but it is not unique'),this._stores[n]=n},t.prototype.serialize=function(){var t=this;return h(this._stores,function(n){return n.serialize(t.pull(n))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return h(this._stores,function(n){return n.deserialize(t[n])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return d(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this._state=h(this._stores,function(t){return t.getInitialState()}),l(this._plugins,this,function(){n.forEach(function(t){return t()})})},t}();t.exports=g},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(1));t.exports={validate:function(t){i(\"register\"in t,\"Plugins must have a register method.\")}}},function(t){\"use strict\";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error(\"Stores must implement a toString() method\")}}},function(t){\"use strict\";t.exports=function(t){return Object.create(t)}},function(t){\"use strict\";function n(t,i,o){var u=e(t),s=u[0],a=u.slice(1);if(!s)return o();var c=r(s,2),f=c[0],l=c[1];f.register(i,l,function(t){if(t)throw t;n(a,i,o)})}var r=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var r,e=[],i=t[Symbol.iterator]();!(r=i.next()).done&&(e.push(r.value),!n||e.length!==n););return e}throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},e=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=n},function(t){\"use strict\";function n(){var t=void 0===arguments[0]?{}:arguments[0],n=[];return t.ignore=function(t){n=n.filter(function(n){return n!==t})},t.listen=function(t){n.push(t)},t.emit=function(){for(var t=0;t<n.length;t++)n[t].call(this)},t}t.exports=n},function(t){\"use strict\";t.exports=function(t,n){var r={};for(var e in t)n(t[e])&&(r[e]=t[e]);return r}},function(t,n,r){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(r(2));t.exports=function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),o=2;r>o;o++)e[o-2]=arguments[o];i.validate(n);var u=n.apply(t,e);return u instanceof Promise?u.then(function(r){return t.dispatch(n,r)}):t.dispatch(n,u)}},function(t,n,r){\"use strict\";function e(t){return\"function\"==typeof t}function i(t,n){var r=t.bind(null),e=\"_\"+n+\"_\"+s++;return r.toString=function(){return e},r}var o=function(t){return t&&t.__esModule?t[\"default\"]:t},u=o(r(3)),s=0;t.exports=function(t){return u(t,function(t,n){return e(t)?i(t,n):t})}}]);\n//# sourceMappingURL=Microcosm.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/microcosm/dist/Microcosm.js\n ** module id = 3\n ** module chunks = 0\n **/","import React from 'react'\nimport Ink   from 'react-ink'\n\nlet Button = React.createClass({\n\n  getDefaultProps() {\n    return {\n      className : 'col-btn',\n      hide      : false,\n      tagName   : 'button',\n      type      : 'button'\n    }\n  },\n\n  render() {\n    let { children, hide, tagName, ...attrs } = this.props\n\n    return hide ? null : (\n      React.createElement(tagName, attrs, [\n        <Ink key=\"__ink__\"/>,\n        children\n      ])\n    )\n  }\n})\n\nexport default Button\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ui/button.jsx\n **/","export default function(items, val, param='id') {\n  let matches = items.filter(i => i[param] == val)\n\n  if (matches.length) {\n    return matches[0]\n  }\n\n  throw new Error(`Unable to find record with ${ param } of ${ val }`)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/findBy.js\n **/","import Actions    from 'actions/blocks'\nimport React      from 'react'\nimport Toolbar    from 'components/toolbar'\nimport classNames from 'classnames'\n\nexport default React.createClass({\n  propTypes: {\n    app       : React.PropTypes.object.isRequired,\n    block     : React.PropTypes.object.isRequired,\n    blockType : React.PropTypes.object.isRequired,\n  },\n\n  getClassName({ id }) {\n    return classNames('col-block', `col-block-${ id }`)\n  },\n\n  render() {\n    let { app, block, blockType, children } = this.props\n    let { id, component:Component } = blockType\n\n    return (\n      <div className={ this.getClassName(blockType) }>\n        <Component ref=\"block\" content={ block.content } onChange={ this._onChange }>\n          { children }\n        </Component>\n        <Toolbar app={ app } block={ block } />\n      </div>\n    )\n  },\n\n  _onChange(content) {\n    let { app, block } = this.props\n\n    app.send(Actions.update, block, content)\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/block.jsx\n **/","import Actions      from 'actions/blocks'\nimport Btn          from './ui/button'\nimport React        from 'react'\nimport classNames   from 'classnames'\nimport {Downstream} from 'microcosm'\n\nexport default React.createClass({\n  mixins: [ Downstream ],\n\n  propTypes: {\n    blockTypes : React.PropTypes.array.isRequired\n  },\n\n  getInitialState() {\n    return { open: false }\n  },\n\n  componentWillReceiveProps() {\n    this.setState({ open: false })\n  },\n\n  getToggle() {\n    return (<Btn ref=\"toggle\" className=\"col-menu-toggle\" onClick={ this._onToggle }>+</Btn>)\n  },\n\n  getButton({ id, label }) {\n    let onAdd = () => this._onAdd(id)\n    return (<Btn key={ id } className=\"col-menu-btn\" onClick={ onAdd }>{ label }</Btn>)\n  },\n\n  render() {\n    let { blockTypes, forceOpen } = this.props\n\n    let open      = forceOpen || this.state.open\n    let allowed   = blockTypes.filter(i => !i.private)\n    let className = classNames('col-menu', { 'col-menu-open': open })\n\n    return (\n      <nav className={ className } role=\"navigation\">\n        { open ? null : this.getToggle() }\n        { open ? allowed.map(this.getButton) : null }\n      </nav>\n    )\n  },\n\n  _onToggle() {\n    this.setState({ open: true })\n  },\n\n  _onAdd(id) {\n    let { position, parent } = this.props\n    this.send(Actions.create, id, position, this.props.parent)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/block_menu.jsx\n **/","/* @flow */\nvar uid = require('../utils/uid')\n\nclass Block {\n  content: ?Object;\n  id: number;\n  parent: Block;\n  type: string;\n\n  constructor(params: { content: ?Object; parent: Block; type: string }){\n    this.id      = uid()\n    this.content = params.content\n    this.parent  = params.parent\n    this.type    = params.type\n  }\n\n  valueOf() {\n    return this.id\n  }\n}\n\nmodule.exports = Block\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/block.js\n **/","/**\n * InsertAfter\n * Given a list and an item, non-destructively return a new list\n * including the item after a given position\n */\n\nlet inRange = (value, min, max) => Math.max(min, Math.min(max, value))\n\nexport default (list, item, position=list.length) => {\n  let corrected = inRange(position, 0, list.length)\n\n  let head = list.slice(0, corrected)\n  let tail = list.slice(corrected)\n\n  return head.concat(item, tail)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/insertAt.js\n **/","function classNames() {\n\tvar classes = '';\n\tvar arg;\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\targ = arguments[i];\n\t\tif (!arg) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ('string' === typeof arg || 'number' === typeof arg) {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Object.prototype.toString.call(arg) === '[object Array]') {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if ('object' === typeof arg) {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (!arg.hasOwnProperty(key) || !arg[key]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tclasses += ' ' + key;\n\t\t\t}\n\t\t}\n\t}\n\treturn classes.substr(1);\n}\n\n// safely export classNames in case the script is included directly on a page\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = classNames;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/classnames/index.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\n * Forward\n * Given a current state, determine and run all future migrations\n */\n\nvar isNewer = require('./isNewer')\n\nmodule.exports = function(version, state, migrations) {\n\n  var operations = migrations.filter(function(migration) {\n    return isNewer(migration.version, version)\n  })\n\n  if (operations.length) {\n    console.log('Upgrading Colonel Kurtz from version ' +\n                version + ' to ' + operations[operations.length - 1].version)\n  }\n\n  return operations.reduce(function(data, migration) {\n    var update = migration.up(data)\n\n    console.log(' ' + migration.version)\n\n    return update\n  }, state)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/migrate/forward.js\n **/","/**\n * Migration runner\n *\n * Important: This should be written in nodejs friendly javascript\n */\n\nvar forward = require('./forward')\n\n// Since this code has to also run in the browser, we can't simply\n// traverse a directory of migrations. They will run in the following\n// order:\nvar migrations = [\n  require('./migrations/2.0.0')\n]\n\nmodule.exports = function (state) {\n  var version = '0.0.0'\n\n  state = state || {}\n\n  if (state.system) {\n    version = state.system.version\n  }\n\n  return forward(version, state, migrations)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/migrate/index.js\n **/","/**\n * isNewer\n * a ridiculously simple semver checker\n */\n\nvar semverify = function(string) {\n  string = string || '0.0.0'\n\n  var base = string.split('.').map(function(num) {\n    return parseInt(num, 10)\n  })\n\n  return { major: base[0], minor: base[1], patch: base[2] }\n}\n\nmodule.exports = function(neo, old) {\n  neo = semverify(neo)\n  old = semverify(old)\n\n  // If the major version is greater, this is blatantly\n  // a new version\n  if (neo.major > old.major) {\n    return true\n  }\n\n  // if the major version matches, but the minor version is greater,\n  // this is a new version\n  if (neo.major === old.major && neo.minor > old.minor) {\n    return true\n  }\n\n  // finally, if the major and minor or equal, but the page isn't,\n  // this is a new version\n  if (neo.minor === old.minor && neo.patch > old.patch) {\n    return true\n  }\n\n  return false\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/migrate/isNewer.js\n **/","module.exports = {\n  version: '2.0.0',\n\n  // 2.0.0 adds a sections block type that wraps around all other\n  // types. It also adds a system object\n  up: function (state) {\n    return {\n      system: { version: '2.0.0' },\n      blocks: Array.isArray(state) ? [{\n        blocks  : state,\n        content : {},\n        type    : 'section'\n      }] : []\n    }\n  },\n\n  // Prior to this version, colonel kurts has no concept of sections.\n  // To protect data, all top level blocks are flattened to only their\n  // child parts.\n  //\n  // Additionally, versions of colonel prior to this version\n  // do not keep track of versions\n  down: function (state) {\n    var blocks = state.blocks || []\n\n    return blocks.reduce(function(memo, record) {\n      return memo.concat(record.blocks)\n    }, [])\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/migrate/migrations/2.0.0.js\n **/","/**\n * Colonel Kurts\n * A custom block editor\n */\n\nimport BlockTypes from 'stores/block_type_store'\nimport Blocks     from 'stores/block_store'\nimport Microcosm  from 'microcosm'\nimport React      from 'react'\nimport System     from 'stores/system_store'\n\nimport bootstrap  from 'plugins/bootstrap'\nimport render     from 'plugins/render'\n\n/**\n * Colonel Kurtz is a layer on top of the Microcosm framework\n * Microcosm is a simple Flux implementation designed to solve issues\n * with state specifically for Colonel Kurtz\n *\n * See:\n * https://github.com/vigetlabs/microcosm\n */\nexport default class ColonelKurtz extends Microcosm {\n\n  constructor({ el, seed, blockTypes }) {\n    super()\n\n    /**\n     * The system store keeps track of information\n     * for the colonel kurtz instance itself\n     */\n    this.addStore(System)\n\n    /**\n     * A block is an individual chunk of content. It can have child\n     */\n    this.addStore(Blocks)\n\n    /**\n     * A block type defines the editing experience for a specific type\n     * content\n     */\n    this.addStore(BlockTypes)\n\n    /**\n     * The bootstrap plugin takes seed data and prepares the\n     * application's state beyond initializing\n     */\n    this.addPlugin(bootstrap, { seed, blockTypes })\n\n    /**\n     * The render plugin handles updating the browser ui\n     */\n    this.addPlugin(render, { el })\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/colonel.js\n **/","/**\n * This is the root component that contains sections for\n * toggling between viewing modes and viewing managed content\n */\n\nimport Actions    from 'actions/blocks'\nimport Button     from 'components/ui/button'\nimport Section    from 'components/section'\nimport React      from 'react'\nimport {Upstream} from 'microcosm'\n\nexport default React.createClass({\n  mixins: [ Upstream ],\n\n  propTypes: {\n    app        : React.PropTypes.object.isRequired,\n    blocks     : React.PropTypes.array.isRequired,\n    blockTypes : React.PropTypes.array.isRequired\n  },\n\n  getSection(block, i, parents) {\n    let last = i === (parents.length - 1)\n\n    return React.createElement(Section, { key: block.id, block, last, ...this.props })\n  },\n\n  render() {\n    return (\n      <div className=\"colonel\">\n        <Button ref=\"append\" className=\"col-btn-fab\" onClick={ this._onAdd }>+</Button>\n        { this.props.blocks.filter(i => !i.parent).map(this.getSection) }\n      </div>\n    )\n  },\n\n  _onAdd() {\n    this.props.app.send(Actions.create, 'section', 0, null)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/App.jsx\n **/","import React from 'react'\n\nlet Section = React.createClass({\n\n  render() {\n    return <div>{this.props.children}</div>\n  }\n\n})\n\nexport default Section\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/blockTypes/section.jsx\n **/","import Block     from 'components/block'\nimport BlockMenu from 'components/block_menu'\nimport React     from 'react'\nimport findBy    from 'utils/findBy'\n\nexport default React.createClass({\n  propTypes: {\n    app        : React.PropTypes.object.isRequired,\n    block      : React.PropTypes.object.isRequired,\n    blockTypes : React.PropTypes.array.isRequired\n  },\n\n  render() {\n    let { app, block, blockTypes } = this.props\n\n    return (\n      <div>\n        <Block app={ app } block={ block } blockType={ findBy(blockTypes, block.type) } />\n        <BlockMenu app={ app } blockTypes={ blockTypes } position={ block } parent={ block.parent } />\n      </div>\n    )\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/editor_block.jsx\n **/","import Actions      from 'actions/blocks'\nimport Block        from 'components/block'\nimport BlockMenu    from 'components/block_menu'\nimport Btn          from 'components/ui/button'\nimport EditorBlock  from 'components/editor_block'\nimport React        from 'react'\nimport childrenOf   from 'utils/childrenOf'\nimport findBy       from 'utils/findBy'\nimport {Downstream} from 'microcosm'\n\nexport default React.createClass({\n  mixins: [ Downstream ],\n\n  propTypes: {\n    app        : React.PropTypes.object.isRequired,\n    block      : React.PropTypes.object.isRequired,\n    blocks     : React.PropTypes.array.isRequired,\n    blockTypes : React.PropTypes.array.isRequired,\n    last       : React.PropTypes.bool\n  },\n\n  getEditor(block) {\n    let { blockTypes } = this.props\n\n    return (\n      <EditorBlock key={ block.id } block={ block } blockTypes={ blockTypes }/>\n    )\n  },\n\n  render() {\n    let { app, block, blocks, blockTypes, last } = this.props\n\n    let children   = childrenOf(block, blocks)\n    let noChildren = !children.length\n    let shouldHide = last && noChildren\n\n    return (\n      <div>\n        <Block app={ app } block={ block } blockType={ findBy(blockTypes, block.type) }>\n          <BlockMenu key=\"menu\" app={ app } parent={ block } blockTypes={ blockTypes } forceOpen={ noChildren } />\n          { children.map(this.getEditor) }\n        </Block>\n        <Btn ref=\"append\" className=\"col-btn-fab\" hide={ shouldHide } onClick={ this._onAppend }>+</Btn>\n      </div>\n    )\n  },\n\n  _onAppend() {\n    this.props.app(Actions.append, 'section')\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/section.jsx\n **/","import Actions      from 'actions/blocks'\nimport Handle       from './toolbarHandle'\nimport Item         from './toolbarItem'\nimport React        from 'react'\nimport {Downstream} from 'microcosm'\n\nexport default React.createClass({\n  propTypes: {\n    app   : React.PropTypes.object.isRequired,\n    block : React.PropTypes.object.isRequired\n  },\n\n  render() {\n    return (\n      <div className=\"col-toolbar\">\n        <Handle />\n        <nav role=\"navigation\" className=\"col-toolbar-menu\">\n          <Item ref=\"moveUp\" label=\"Move Up\" onClick={ this._onMoveUp } />\n          <Item ref=\"moveDown\" label=\"Move Down\" onClick={ this._onMoveDown } />\n          <Item ref=\"destroy\" label=\"Remove\" onClick={ this._onDestroy } />\n        </nav>\n      </div>\n    )\n  },\n\n  _onDestroy(e) {\n    let { app, blocks } = this.props\n    app(Actions.destroy, block.id)\n  },\n\n  _onMoveUp(e) {\n    this.send(Actions.shift, this.props.block.id, -1)\n  },\n\n  _onMoveDown(e) {\n    this.send(Actions.shift, this.props.block.id, 1)\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/toolbar.jsx\n **/","import React        from 'react'\nimport menuIcon     from 'icons/menu'\n\nexport default React.createClass({\n\n  render() {\n    return (<span className=\"col-toolbar-handle\"\n                  dangerouslySetInnerHTML={{ __html: menuIcon }} />)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/toolbarHandle.jsx\n **/","import Button from './ui/button'\nimport React  from 'react'\n\nexport default React.createClass({\n  propTypes: {\n    label   : React.PropTypes.string.isRequired,\n    onClick : React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      className : 'col-toolbar-menu-item',\n      type      : 'button'\n    }\n  },\n\n  render() {\n    let { label, ...safe } = this.props\n\n    return (<Button { ...safe }>{ label }</Button>)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/toolbarItem.jsx\n **/"," export default {\n  blockTypes: [\n    {\n      id        : 'section',\n      label     : 'Create a new section',\n      component : require('components/blockTypes/section'),\n      private   : true\n    }\n  ]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/manifest.js\n **/","/**\n * Bootstrap\n * This plugin is responsible for injecting data into the system on\n * start up, migrating old versions to new.\n */\nimport migrate from 'lib/migrate'\n\nexport default {\n\n  register(app, { seed, blockTypes }, next) {\n    let migration  = migrate(seed)\n\n    app.push({ ...migration, blockTypes })\n\n    next()\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/bootstrap.js\n **/","/**\n * Render\n * Handles updating the browser UI\n */\n\nimport App   from 'components/App'\nimport React from 'react'\n\nexport default {\n\n  render(app, el) {\n    React.render(<App app={ app } { ...app.toObject() }/>, el)\n  },\n\n  register(app, { el }, next) {\n    this.render(app, el)\n\n    app.listen(i => this.render(app,el))\n\n    next()\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/render.js\n **/","/**\n * Block Store\n *\n * The Block Store is responsible for defining how blocks are stored\n * within Colonel Kurtz. Whenever an action associated with block\n * records is pushed into the system, this module tells Colonel Kurtz\n * how that action manipulates block data.\n */\n\nimport Actions  from 'actions/blocks'\nimport Block    from 'models/block'\nimport findBy   from 'utils/findBy'\nimport insertAt from 'utils/insertAt'\nimport shift    from 'utils/shift'\n\nexport default {\n\n  /**\n   * getInitialState\n   * Runs whenever the application starts. Provides the expected array\n   * relied upon by other operations\n   */\n  getInitialState() {\n    return []\n  },\n\n  /**\n   * toString\n   * Tells Colonel Kurtz that this store manages the `blocks` key. Any\n   * modifications related to blocks can be found there\n   */\n  toString() {\n    return 'blocks'\n  },\n\n  /**\n   * For simplicity, blocks are stored in an array, `blocksToJson`\n   * takes a list of blocks and transforms them into the nested structure\n   * shown in the front end\n   */\n  serialize: require('utils/blocksToJson'),\n\n  /**\n   * As mentioned previously, blocks are serialized to a nested\n   * structure. jsonToBlocks takes this nested structure and flattens\n   * into a list for this store.\n   */\n  deserialize: require('utils/jsonToBlocks'),\n\n  /**\n   * Actions.append\n   * Simply add a new block at the end of the list\n   */\n  [Actions.append](state, params) {\n    return state.concat(new Block(params))\n  },\n\n  /**\n   * Actions.create\n   * Produces a new block based upon given parameters.\n   * If the provided position is a Block, place the new block right\n   * after it.\n   */\n  [Actions.create](state, { type, parent, position=0 }) {\n    let record = new Block({ parent, type })\n\n    if (position instanceof Block) {\n      position = state.indexOf(position) + 1\n    }\n\n    return insertAt(state, record, position)\n  },\n\n  /**\n   * Actions.destroy\n   * Given an id, remove that block and eliminate all other blocks\n   * nested inside of it. This is important so removing that `section`\n   * type blocks also eliminates children\n   */\n  [Actions.destroy](state, id) {\n    return state.filter(function(node) {\n      for (var n = node; n; n = n.parent) {\n        if (n.id == id) return false\n      }\n      return true\n    })\n  },\n\n  /**\n   * Actions.update\n   * Given a parameters, find the block associated with those\n   * parameters (by id) and update the content inside. All other\n   * attributes will not be changed.\n   */\n  [Actions.update](state, params) {\n    var block = findBy(state, params.id)\n\n    block.content = { ...block.content, ...params.content }\n\n    return state\n  },\n\n  /**\n   * Actions.shift\n   * Adjust the position of a given block\n   */\n  [Actions.shift](state, { id, delta }) {\n    return shift(state, findBy(state, id), delta)\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/block_store.js\n **/","/**\n * Block Type Store\n *\n * A Block Type describes the editing experience for a Block. Whenever\n * an action associated with block type the system, this module tells\n * Colonel Kurtz how that action manipulates block type data.\n */\n\nimport addBlockType from 'utils/addBlockType'\nimport manifest     from 'manifest'\n\nexport default {\n\n  /**\n   * getInitialState\n   * Block types are stored in a list, however we always want to make\n   * sure that list includes the block types specified in the manifest\n   */\n  getInitialState() {\n    return manifest.blockTypes\n  },\n\n  /**\n   * toString\n   * Tells Colonel Kurtz that block type information can be found at\n   * the `blockTypes` key\n   */\n  toString() {\n    return 'blockTypes'\n  },\n\n  /**\n   * deserialize\n   * Any time block types are seeded into the system, always make sure\n   * they include the ones provided initially.\n   */\n  deserialize(seed=[]) {\n    return addBlockType(seed.concat(this.getInitialState()))\n  },\n\n  /**\n   * serialize\n   * Block types are never serialized, so return nothing\n   */\n  serialize() {\n    return undefined\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/block_type_store.js\n **/","/**\n * System Store\n *\n * Keeps track of any information necessary for the system\n * to work properly. Currently, this is limited to the version of\n * Colonel Kurtz for the individual instance. This is helpful to\n * plugins, such as the data migration plugin.\n */\n\nexport default {\n\n  /**\n   * getInitialState\n   * Version is defined by Webpack during the build process.\n   * See the plugins section of webpack.config.js for more details\n   */\n  getInitialState() {\n    return {\n      version: process.env.VERSION\n    }\n  },\n\n  /**\n   * serialize\n   * Always serialize to the initial state, this information should\n   * never change at run time.\n   */\n  serialize() {\n    return this.getInitialState()\n  },\n\n  /**\n   * toString\n   * Tells Colonel Kurtz that system information can be found at the\n   * `system` key\n   */\n  toString() {\n    return 'system'\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/system_store.js\n **/","/**\n * This utility adds a new block type to ColonelKurtz. If not given a\n * valid React element, it produces one using ./createBlock\n */\n\nimport React from 'react'\n\nexport default function (config=[]) {\n  return config.map(options => {\n    let component = options.component\n\n    if (typeof component === 'object') {\n      component = React.createClass(component)\n    }\n\n    return { ...options, component }\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/addBlockType.js\n **/","export default function blocksToJson (items) {\n  // If items are null or undefined, assume an empty list\n  items = items || []\n\n  let root = items.filter(i => !i.parent)\n\n  let jsonify = block => {\n    let children = items.filter(i => i.parent === block)\n\n    return {\n      content : block.content,\n      type    : block.type,\n      blocks  : children.map(jsonify)\n    }\n  }\n\n  return root.map(jsonify)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/blocksToJson.js\n **/","/**\n * childrenOf\n * Get the children of a provided block\n */\n\nexport default function childrenOf (block, list) {\n  return list.filter(i => i.parent === block)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/childrenOf.js\n **/","import Block from 'models/block'\n\nexport default function jsonToBlocks (blocks, parent) {\n  // If blocks are null or undefined, assume an empty list\n  blocks = blocks || []\n\n  return blocks.reduce(function (memo, params) {\n    let block    = new Block({ ...params, parent })\n    let children = jsonToBlocks(params.blocks, block)\n\n    return memo.concat(block, children)\n  }, [])\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/jsonToBlocks.js\n **/","/**\n * Move\n * Given a list and an item, non-destructively return a new list\n * where a given item has been moved by a given delta\n */\n\nimport insertAt from './insertAt'\n\nexport default (list, item, delta=0) => {\n  let index   = list.indexOf(item) + delta\n  var without = list.filter(i => i !== item)\n\n  return insertAt(without, item, index)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/shift.js\n **/","/* @flow */\n\nvar uidCounter = 0;\n\nvar uid = function(): number {\n  return `c${ uidCounter += 1 }`\n}\n\nmodule.exports = uid\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/uid.js\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\\\"/></svg>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/menu.svg\n ** module id = 43\n ** module chunks = 0\n **/","module.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},i=o(4),r=0,s=o(5),a=o(8),u=o(2),c=o(7),h=a.PropTypes,l=2*Math.PI,p=o(1),f=o(6),d=a.createClass({displayName:\"Ink\",shouldComponentUpdate:f,propTypes:{background:h.bool,duration:h.number,opacity:h.number,radius:h.number,recenter:h.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return i?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,o=this.state.density,n=this.state.height,i=this.state.width,r=this.state.store;t.save(),t.scale(o,o),t.clearRect(0,0,i,n),t.fillStyle=e,this.props.background&&(t.globalAlpha=r.getTotalOpacity(this.props.opacity),t.fillRect(0,0,i,n)),r.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,o=this.state.height,n=this.state.width,i=t.x,r=t.y,s=t.radius;if(e.globalAlpha=p.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(o,n);i+=p.getBlotShiftX(t,a,n),r+=p.getBlotShiftY(t,a,o)}e.arc(i,r,s*p.getBlotScale(t),0,l),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,o){var n=this,i=this.getDOMNode(),r=i.getBoundingClientRect(),a=r.top,u=r.bottom,c=r.left,h=r.right,l=window.getComputedStyle(i),f=l.color,d=this.state.ctx||i.getContext(\"2d\"),g=this.state.density||s(d),m=u-a,v=h-c,x=p.getMaxRadius(m,v,this.props.radius);this.setState({color:f,ctx:d,density:g,height:m,width:v},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:x,x:e-c,y:o-a})})},render:function(){var t=this.state.density,e=this.state.height,o=this.state.width,i=this.state.touchEvents;return a.createElement(\"canvas\",n({className:\"ink\",style:n({},u,this.props.style),height:e*t,width:o*t,onDragOver:this._onRelease},i))},_onPress:function(t){var e=t.button,o=t.ctrlKey,n=t.clientX,i=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u].clientX,h=s[u].clientY;this.pushBlot(a,c,h)}else e!==r||o||this.pushBlot(a,n,i)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=d},function(t,e,o){\"use strict\";function n(t){return h(t.duration,Date.now()-t.mouseDown)}function i(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function r(t){var e=t.duration,o=t.radius,r=.85*s(n(t),0,o,e),a=.15*s(i(t),0,o,e),h=.02*o*u(Date.now()/e);return c(0,r+a+h)}var s=o(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,h=Math.min;t.exports={getMaxRadius:function(t,e,o){return h(.5*c(t,e),o)},getBlotOpacity:function(t,e){return s(i(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return h(this.getBlotOpacity(t,e),s(n(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.x)},getBlotShiftY:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.y)},getBlotScale:function(t){return r(t)/t.radius}}},function(t){\"use strict\";t.exports={borderRadius:\"inherit\",height:\"100%\",left:0,position:\"absolute\",top:0,width:\"100%\"}},function(t){\"use strict\";t.exports=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e}},function(t){\"use strict\";var e=!1;\"undefined\"!=typeof window&&(e=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){\"use strict\";t.exports=function(t){var e=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/o}},function(t){\"use strict\";function e(t,e){for(var o in t)if(this.props[o]!==t[o])return!0;for(var n in e)if(this.state[n]!==e[n])return!0;return!1}t.exports=e},function(t,e,o){\"use strict\";var n=o(1),i=function(t){var e=t.mouseUp,o=t.duration;return!e||Date.now()-e<o};t.exports=function(t){var e=[],o=!1,r=void 0,s={each:function(t,o){for(var n=0,i=e.length;i>n;n++)t.call(o,e[n])},play:function(){o||(o=!0,s.update())},stop:function(){o=!1,cancelAnimationFrame(r)},getTotalOpacity:function(t){for(var o=0,i=0,r=e.length;r>i;i++)o+=n.getBlotOuterOpacity(e[i],t);return o},update:function(){e=e.filter(i),e.length?(r=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var o=e.length-1;o>=0;o--)if(!e[o].mouseUp)return e[o].mouseUp=t}};return s}},function(t){t.exports=require(\"react\")}]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-ink/dist/ink.js\n ** module id = 44\n ** module chunks = 0\n **/"],"sourceRoot":""}